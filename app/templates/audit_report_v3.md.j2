# ðŸ” Python Audit Report

**Generated**: {{ timestamp }}  
**Repository**: {{ repo_name }}  
**Duration**: {{ duration }}

---

## ðŸ“Š Overall Score: {{ score }}/100 ({{ grade }})

### Score Breakdown
| Component | Penalty | Details |
|-----------|---------|---------|
| ðŸ”’ Security | -{{ security_penalty }} | {{ security.total_issues }} issues, {{ secrets.total_secrets }} secrets |
| âœ… Testing | -{{ testing_penalty }} | {{ tests.coverage_percent }}% coverage |
| ðŸ§¹ Quality | -{{ quality_penalty }} | {{ deadcode.total_items }} dead code items |
| **Final** | **{{ score }}** | Grade: {{ grade }} |

---

## ðŸ”’ Security Analysis

**Status**: {{ security_severity.label }}  
**Issues Found**: {{ security.total_issues }}  
**Secrets Detected**: {{ secrets.total_secrets }}

{% if security.total_issues > 0 %}
### Security Issues
{% for issue in security.issues[:5] %}
- **{{ issue.severity }}**: {{ issue.message }} (`{{ issue.file }}:{{ issue.line }}`)
{% endfor %}
{% if security.total_issues > 5 %}
... and {{ security.total_issues - 5 }} more issues
{% endif %}
{% else %}
âœ… No security issues detected
{% endif %}

---

## ðŸ§ª Test Coverage

**Coverage**: {{ tests.coverage_percent }}%  
**Assessment**: {{ coverage_severity.label }}  
**Status**: {{ coverage_severity.description }}

**Recommendation**: {{ coverage_severity.recommendation }}

**Test Breakdown**:
- Unit Tests: {{ tests.test_breakdown.unit }}
- Integration Tests: {{ tests.test_breakdown.integration }}
- E2E Tests: {{ tests.test_breakdown.e2e }}

{% if tests.warning %}
âš ï¸ **Warning**: {{ tests.warning }}
{% endif %}

---

## ðŸ§¹ Code Quality

### Dead Code
{{ deadcode.total_items }} items found

{% if deadcode.total_items > 0 %}
- Unused variables: {{ deadcode.unused_vars|length }}
- Unused imports: {{ deadcode.unused_imports|length }}
- Dead functions: {{ deadcode.dead_functions|length }}

**Top Issues**:
{% for item in (deadcode.unused_vars + deadcode.unused_imports)[:5] %}
- `{{ item.name }}` in {{ item.file }}:{{ item.line }}
{% endfor %}
{% else %}
âœ… No dead code detected
{% endif %}

### Code Duplication
{{ duplication.total_duplicates }} similar code blocks found

{% if duplication.total_duplicates > 10 %}
âš ï¸ High duplication detected. Consider refactoring common patterns.

**Most Duplicated** (similarity > 95%):
{% for dup in duplication.duplicates %}
{% if dup.similarity > 95 %}
- `{{ dup.function_name }}` ({{ dup.similarity|round(1) }}% similar) - {{ dup.count }} instances
{% endif %}
{% endfor %}
{% endif %}

---

## ðŸ’¡ Recommendations

**Based on the calculated score of {{ score }}/100:**

{% if testing_penalty >= 30 %}
1. **ðŸ”´ CRITICAL - Test Coverage**: {{ coverage_severity.recommendation }}
{% endif %}

{% if security_penalty >= 20 %}
2. **ðŸ”´ CRITICAL - Security**: Address {{ security.total_issues + secrets.total_secrets }} security findings immediately
{% endif %}

{% if quality_penalty >= 15 %}
3. **ðŸŸ¡ HIGH - Code Quality**: Clean up {{ deadcode.total_items }} dead code items
{% endif %}

{% if score < 70 %}
4. **Overall**: Current grade ({{ grade }}) indicates significant technical debt. Prioritize above items.
{% elif score < 90 %}
4. **Overall**: Good foundation ({{ grade }}). Focus on incremental improvements.
{% else %}
4. **Overall**: Excellent codebase ({{ grade }}). Maintain current standards.
{% endif %}

---

## ðŸ”§ Tools Executed

{% for tool in tools_summary %}
- **{{ tool.name }}**: {{ tool.status }}
{% endfor %}

---

*This report uses pre-calculated scores based on the algorithm in README.md. All numeric values are deterministic and not subject to interpretation.*
